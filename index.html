<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="test.css">
    <title>Document</title>
</head>

<body>
    <h1>Score Counter</h1>
    <div class="container" id="playerContainer">
        <div class="player" id="player1">
            <input type="text" value="Player 1" />
            <div class="score" id="score1">0</div>
            <div class="buttons">
                <button onclick="increaseScore('player1', 'score1')">+</button>
                <button onclick="decreaseScore('player1', 'score1')">-</button>
            </div>
        </div>
        <div class="player" id="player2">
            <input type="text" value="Player 2" />
            <div class="score" id="score2">0</div>
            <div class="buttons">
                <button onclick="increaseScore('player2', 'score2')">+</button>
                <button onclick="decreaseScore('player2', 'score2')">-</button>
            </div>
        </div>
        <div class="player" id="player3">
            <input type="text" value="Player 3" />
            <div class="score" id="score3">0</div>
            <div class="buttons">
                <button onclick="increaseScore('player3', 'score3')">+</button>
                <button onclick="decreaseScore('player3', 'score3')">-</button>
            </div>
        </div>
        <div class="player" id="player4">
            <input type="text" value="Player 4" />
            <div class="score" id="score4">0</div>
            <div class="buttons">
                <button onclick="increaseScore('player4', 'score4')">+</button>
                <button onclick="decreaseScore('player4', 'score4')">-</button>
            </div>
        </div>
    </div>

    <button class="reset" onclick="resetScores()">Reset Scores</button>

    <script>
        const MAX_SCORE = 5;

        function increaseScore(playerId, scoreId) {
            const scoreElement = document.getElementById(scoreId);
            const playerElement = document.getElementById(playerId);
            const currentScore = parseInt(scoreElement.textContent);

            if (currentScore < MAX_SCORE) {
                scoreElement.textContent = currentScore + 1;
                checkQualification(playerElement, scoreElement);
            }
        }

        function decreaseScore(playerId, scoreId) {
            const scoreElement = document.getElementById(scoreId);
            const playerElement = document.getElementById(playerId);
            const currentScore = parseInt(scoreElement.textContent);

            if (currentScore > 0) {
                scoreElement.textContent = currentScore - 1;
                checkQualification(playerElement, scoreElement, false);
            }
        }

        function resetScores() {
            const scores = document.querySelectorAll('.score');
            const players = document.querySelectorAll('.player');

            scores.forEach(score => {
                score.textContent = 0;
                score.classList.remove('qualified', 'eliminated');
            });

            players.forEach(player => {
                player.classList.remove('qualified', 'eliminated');
            });
        }

        function checkQualification(playerElement, scoreElement, increase = true) {
            const currentScore = parseInt(scoreElement.textContent);
            const qualifiedPlayers = document.querySelectorAll('.player.qualified').length;

            if (currentScore === MAX_SCORE && increase) {
                scoreElement.textContent = 'Qualifié';
                scoreElement.classList.add('qualified');
                playerElement.classList.add('qualified');

                if (qualifiedPlayers + 1 === 3) {
                    markEliminated();
                }
            } else if (currentScore < MAX_SCORE) {
                scoreElement.classList.remove('qualified');
                playerElement.classList.remove('qualified');
            }
        }

        function markEliminated() {
            const players = document.querySelectorAll('.player');
            players.forEach(player => {
                if (!player.classList.contains('qualified')) {
                    const scoreElement = player.querySelector('.score');
                    scoreElement.textContent = 'Éliminé';
                    player.classList.add('eliminated');
                }
            });
        }
    </script>
</body>

</html>